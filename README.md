# time-cuts
Implementation of spectral algorithms for temporal graph cuts.

Evaluation is performed using python notebooks.

Performance experiments:

Compression experiments:

The main functions are implemented in time_graph.py, which includes a wrapper for several temporal cut algorithms.

Some examples of usage:

#Reads input graph (primary school) with swap cost of .05
G = read_time_graph(primary_school["graph"], .0249)
G.make_connected(0.005)
c = prod_cut(G)

print(c)
({'cut': array([-1., -1., -1., -1.,  1., -1.,  1., -1., -1., -1., -1., -1., -1.,
         -1.,  1.,  1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1.,  1., -1.,  1., -1., -1.,
         -1.,  1.,  1., -1., -1., -1., -1.,  1.,  1., -1.,  1., -1., -1.,
          1., -1., -1., -1.,  1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,  1.,  1.,
         -1., -1.,  1.,  1., -1.,  1.,  1.,  1.,  1., -1.,  1., -1.,  1.,
          1., -1.,  1., -1., -1.,  1.,  1.,  1.,  1.,  1., -1., -1.,  1.,
         -1., -1., -1.,  1.,  1., -1., -1., -1.,  1., -1.,  1., -1.,  1.,
         -1., -1., -1., -1.,  1.,  1.,  1.,  1.,  1., -1.,  1., -1., -1.,
         -1., -1., -1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,
          1.,  1.,  1.,  1.,  1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1.,  1., -1., -1., -1.,  1.,  1.,  1.,
         -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1.,  1.,  1.,  1.,  1.,
          1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1., -1., -1., -1.,  1.,
         -1.,  1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1., -1.,
         -1., -1., -1., -1.,  1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1.,  1.,  1., -1.,  1.,  1., -1., -1., -1., -1., -1., -1.,  1.,
         -1.,  1., -1., -1., -1., -1., -1., -1., -1.,  1.,  1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1.,  1., -1.,  1., -1., -1., -1.,  1.,  1., -1., -1.,
         -1., -1.,  1.,  1., -1.,  1., -1., -1.,  1., -1., -1., -1.,  1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1.,  1.,  1., -1., -1.,  1.,  1., -1.,
          1.,  1.,  1.,  1., -1.,  1., -1.,  1.,  1., -1.,  1., -1., -1.,
          1.,  1.,  1.,  1.,  1., -1., -1.,  1., -1., -1., -1.,  1.,  1.,
         -1., -1., -1.,  1., -1.,  1., -1.,  1., -1., -1., -1., -1.,  1.,
          1.,  1.,  1.,  1., -1.,  1., -1., -1., -1., -1., -1., -1.,  1.,
          1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1.,  1., -1., -1., -1.,  1.,  1.,  1., -1.,  1.,  1.,  1.,  1.,
          1.,  1.,  1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,
          1.,  1.,  1., -1., -1., -1., -1.,  1., -1.,  1., -1.,  1.,  1.,
          1.,  1.,  1.,  1.,  1., -1., -1., -1., -1., -1., -1., -1.,  1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1.,  1.,  1., -1.,  1.,
          1., -1., -1., -1., -1., -1., -1.,  1., -1.,  1., -1., -1., -1.,
         -1., -1., -1., -1.,  1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,  1., -1.,
          1., -1., -1., -1.,  1.,  1., -1., -1., -1., -1.,  1.,  1., -1.,
          1., -1., -1.,  1., -1., -1., -1.,  1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1., -1.,
         -1.,  1.,  1., -1., -1.,  1.,  1., -1.,  1.,  1.,  1.,  1., -1.,
          1., -1.,  1.,  1., -1.,  1., -1., -1.,  1.,  1.,  1.,  1.,  1.,
         -1., -1.,  1., -1., -1., -1.,  1.,  1., -1., -1., -1.,  1., -1.,
          1., -1.,  1., -1., -1., -1., -1.,  1.,  1.,  1.,  1.,  1., -1.,
          1., -1., -1., -1., -1., -1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,
          1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1., -1., -1., -1., -1., -1.,  1., -1., -1., -1.,
          1.,  1.,  1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1.,  1.,
          1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1., -1., -1.,
         -1., -1.,  1., -1.,  1., -1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,
         -1., -1., -1., -1., -1., -1., -1.,  1., -1., -1., -1., -1., -1.,
         -1., -1., -1., -1.,  1.,  1., -1.,  1.,  1., -1., -1.]),
  'score': 9.722578317913037e-05,
  'edges': 3.991778580973271,
  'swaps': 0.04979999999999988},
 array([-0.02384887, -0.02996254, -0.02228453, -0.02525399,  0.03301646,
        -0.0272838 ,  0.05468882, -0.0161834 , -0.0207138 , -0.0207315 ,
        -0.02483507, -0.02320424, -0.02945015, -0.02681233,  0.02616886,
         0.05560702, -0.02256069, -0.0210303 , -0.02569224, -0.0229463 ,
        -0.02238653, -0.00415599, -0.02396353, -0.02867715, -0.0181311 ,
        -0.0117031 , -0.0269656 , -0.02241677, -0.02453543, -0.02898271,
        -0.02237099, -0.0202588 , -0.02022778, -0.01713337, -0.01736176,
        -0.0253217 , -0.0188959 , -0.02393699, -0.02192221, -0.02335556,
        -0.02019167, -0.00194733, -0.04258867, -0.02538956, -0.01948555,
        -0.01867745, -0.03218525,  0.02427393, -0.01870634,  0.02843945,
        -0.02282015, -0.01812652, -0.02379146,  0.02613485,  0.0261927 ,
        -0.01963496, -0.01922911, -0.01984028, -0.01891105,  0.03104417,
         0.02462571, -0.02029514,  0.02370995, -0.0286592 , -0.02552138,
         0.03686077, -0.02128669, -0.00212646, -0.02898748,  0.03427404,
        -0.02004646, -0.03107305, -0.01829612, -0.00273597, -0.02523231,
        -0.01837533, -0.03162058, -0.01920217, -0.01851107, -0.01891249,
        -0.00853829, -0.02047564, -0.01993914, -0.01738589, -0.02067869,
        -0.01799122, -0.01904142, -0.01868097, -0.02663614,  0.03414242,
         0.03467001, -0.02204719, -0.03260845,  0.03305929,  0.03132976,
        -0.0211922 ,  0.03394442,  0.03612122,  0.03177216,  0.03392156,
        -0.00424142,  0.04667126, -0.03304199,  0.02591753,  0.03445051,
        -0.01634062,  0.01437154, -0.02047605, -0.02097193,  0.03446098,
         0.02480025,  0.03692742,  0.03417189,  0.03355826, -0.01942889,
        -0.00282171,  0.03302513, -0.0212653 , -0.00630898, -0.0202673 ,
         0.02860179,  0.03649545, -0.02117857, -0.03908864,  0.00145798,
         0.03127924, -0.02110801,  0.03809129, -0.01877264,  0.01304277,
        -0.02142856, -0.00474947, -0.01995772, -0.02299833,  0.02983961,
         0.03013373,  0.02240738,  0.03759107,  0.03617646, -0.01914242,
         0.02560071, -0.03334556, -0.02493991, -0.02015872, -0.03611053,
        -0.01507525, -0.01354833,  0.05419117,  0.03802029,  0.05430498,
         0.05712184,  0.05100563,  0.03464472,  0.05033475,  0.01781499,
         0.05534123,  0.05689849,  0.05692026,  0.06202092,  0.05483631,
         0.01945407, -0.03690437, -0.02121034, -0.04472035, -0.03780555,
        -0.03708974, -0.01549667, -0.01455692, -0.01802288, -0.01526265,
        -0.03605886, -0.01635322, -0.03255332, -0.01607335, -0.01576736,
         0.03634553, -0.01422511, -0.02787178, -0.01541847,  0.02236415,
         0.03926131,  0.0257322 , -0.03515339,  0.04504094,  0.02595821,
         0.0260165 ,  0.0265908 ,  0.03990657,  0.02376109,  0.03486557,
        -0.0142386 ,  0.06695018,  0.04077689,  0.04417588,  0.03215865,
         0.0311178 ,  0.03546617,  0.03838693,  0.02928817,  0.03530817,
         0.04138323,  0.03958951,  0.03998201, -0.0285913 , -0.01903721,
        -0.033716  , -0.03534842,  0.03918442, -0.03895812,  0.04289892,
        -0.03458699,  0.03887161,  0.04075818,  0.03982496,  0.03621913,
         0.03994221,  0.04191784,  0.03922106,  0.03150674, -0.01727782,
        -0.03724602, -0.0361707 , -0.03347154, -0.03628755, -0.01538836,
         0.0415723 , -0.03463845, -0.03588559, -0.03706868, -0.03611232,
        -0.03598951, -0.03810203, -0.03889924, -0.03081463, -0.00045628,
         0.08107089,  0.11861595, -0.0485711 ,  0.05758987,  0.06120691,
        -0.12440592, -0.08511412, -0.02891676, -0.03408007, -0.02711775,
        -0.03248607,  0.05933743, -0.03551731,  0.06829783, -0.02824791,
        -0.02883282, -0.0289126 , -0.03036239, -0.03043952, -0.04295737,
        -0.03006483,  0.02983011,  0.05569089, -0.02871223, -0.02588471,
        -0.02530064, -0.03036408, -0.02609236, -0.02261963, -0.02912708,
        -0.04323085, -0.01066624, -0.02481874, -0.03556604, -0.02901444,
        -0.03473647, -0.043109  , -0.03359102, -0.02603111, -0.02677475,
        -0.02522321, -0.00984903, -0.03038226, -0.02740222, -0.02824639,
        -0.02867229, -0.02949623, -0.01018295, -0.0230371 , -0.04692053,
        -0.04328626, -0.0114155 , -0.01074423, -0.04554115,  0.03043002,
        -0.00983104,  0.03047538, -0.04216222, -0.01084893, -0.02673769,
         0.02856989,  0.02866355, -0.01020062, -0.01086671, -0.01037445,
        -0.01031128,  0.04212624,  0.03090101, -0.01059116,  0.02773564,
        -0.04330573, -0.02923941,  0.0394026 , -0.02603722, -0.02220481,
        -0.04409243,  0.05755983, -0.01040428, -0.04571965, -0.00958564,
        -0.02329506, -0.04267551, -0.00976229, -0.0364696 , -0.02488566,
        -0.01045089, -0.01045226, -0.02370689, -0.010733  , -0.01119058,
        -0.01074261, -0.01028333, -0.0099975 , -0.01031566, -0.01049693,
        -0.04462135,  0.04356816,  0.05489321, -0.02644923, -0.03635186,
         0.04378564,  0.04349873, -0.02588308,  0.0379325 ,  0.06348608,
         0.04312057,  0.0606756 , -0.02317907,  0.06445036, -0.04362591,
         0.02786867,  0.05925096, -0.02408529,  0.02628455, -0.02506317,
        -0.02588341,  0.04310003,  0.02913037,  0.04526362,  0.04350596,
         0.0388899 , -0.02570449, -0.02087498,  0.04435487, -0.023055  ,
        -0.0223763 , -0.02585944,  0.05808508,  0.04552478, -0.02587051,
        -0.03845882, -0.02078868,  0.04259894, -0.02660875,  0.06471536,
        -0.02467652,  0.02503163, -0.02530475, -0.02252163, -0.0260843 ,
        -0.02557828,  0.04318459,  0.03796931,  0.02835307,  0.03921526,
         0.03956495, -0.02588269,  0.03189816, -0.03612405, -0.02751401,
        -0.02574505, -0.03722306, -0.02416454, -0.02368991,  0.07267797,
         0.05915123,  0.07289469,  0.07374173,  0.06904693,  0.03825387,
         0.06007882,  0.03200231,  0.07174749,  0.07424893,  0.07105194,
         0.0806851 ,  0.07271994,  0.02912089, -0.03671443, -0.02731943,
        -0.04516075, -0.03725159, -0.03598196, -0.02294399, -0.02362599,
        -0.02662219, -0.02273514, -0.04612093, -0.02399904, -0.04463805,
        -0.02415206, -0.02411952,  0.0391846 , -0.02279252, -0.03518904,
        -0.02306648,  0.02769415,  0.04328579,  0.02964888, -0.04434627,
         0.04867734,  0.02730232,  0.03170856,  0.0407651 ,  0.03929563,
         0.03007678,  0.0409011 , -0.02381564,  0.07857618,  0.04450223,
         0.0410185 ,  0.02941738,  0.04389573,  0.03884638,  0.03789685,
         0.03517522,  0.03924368,  0.05341689,  0.04443595,  0.03834551,
        -0.03291681, -0.01043202, -0.04376658, -0.03610968,  0.03871987,
        -0.04776758,  0.0466896 , -0.04511934,  0.04010861,  0.03821619,
         0.04034807,  0.03966415,  0.04018285,  0.04407981,  0.04474455,
         0.00065494, -0.00969119, -0.0354622 , -0.04427189, -0.03648388,
        -0.0351141 , -0.02197483,  0.04569533, -0.04584748, -0.04468941,
        -0.04395257, -0.0458606 , -0.04543296, -0.04711825, -0.03761015,
        -0.03619153, -0.02239298,  0.05552619,  0.08119871, -0.03312027,
         0.03947036,  0.04194362, -0.08497452, -0.05810762, -0.02963261,
        -0.03021599, -0.0292424 , -0.02967445,  0.0389566 , -0.0325931 ,
         0.09473428, -0.02930392, -0.02988207, -0.0299063 , -0.03421747,
        -0.03225255, -0.03612405, -0.03188472,  0.02932876,  0.00113476,
        -0.02769775, -0.02854004, -0.028722  , -0.02979061, -0.03185653,
        -0.02854409, -0.03109976, -0.03675319, -0.00214311, -0.03044104,
        -0.03287161, -0.02928292, -0.03204878, -0.03433976, -0.03023907,
        -0.03064764, -0.03201315, -0.03052011,  0.00525261, -0.03350609,
        -0.02930457, -0.03106028, -0.02849799, -0.03121205,  0.00690726,
        -0.02798996, -0.05485257, -0.03280644, -0.00755411, -0.00339886,
        -0.05113292,  0.03525546,  0.00237429,  0.04068789, -0.02972317,
        -0.00086746, -0.02789427,  0.02717857,  0.02693736,  0.00393338,
         0.00358343,  0.00182853,  0.00158163,  0.02821029,  0.03655336,
         0.00537838,  0.02306548, -0.03468522, -0.02925767,  0.03116175,
        -0.03037325, -0.02763645, -0.03682642,  0.02297083,  0.00219425,
        -0.05328874,  0.00899284, -0.02980937, -0.03342068,  0.0058705 ,
        -0.03468511, -0.03052588,  0.00088731,  0.00040203, -0.02822656,
         0.00032621,  0.00751738, -0.002414  ,  0.00649156,  0.00152978,
        -0.00051622,  0.00015122, -0.04376733,  0.03020337,  0.02658938,
        -0.03078024, -0.03337326,  0.03169024,  0.03314674, -0.03002843,
         0.0276465 ,  0.05437739,  0.03915685,  0.04302072, -0.02705533,
         0.09661405, -0.03725153,  0.02289539,  0.03831443, -0.02859201,
         0.01950886, -0.03124284, -0.03133709,  0.03239122,  0.02683114,
         0.04292409,  0.03135127,  0.03304568, -0.03136325, -0.02745226,
         0.03943109, -0.03091077, -0.02864201, -0.02985132,  0.04009017,
         0.04187828, -0.03092132, -0.03711162, -0.02688731,  0.02882488,
        -0.03216084,  0.08031373, -0.02903186,  0.01701775, -0.03108631,
        -0.02885077, -0.03115343, -0.03148074,  0.03125252,  0.02631302,
         0.02296824,  0.02913823,  0.03307194, -0.03101608,  0.04325358,
        -0.03293133, -0.03187898, -0.03051779, -0.03512095, -0.02817404,
        -0.02861043,  0.08996888,  0.0660328 ,  0.09831614,  0.10615298,
         0.07794674,  0.03022652,  0.06995498,  0.04220071,  0.09320195,
         0.1009754 ,  0.09158931,  0.10893172,  0.09611563,  0.02714671,
        -0.03305399, -0.03005987, -0.04595227, -0.03633638, -0.0324821 ,
        -0.02909139, -0.02860504, -0.03860067, -0.02617666, -0.04782929,
        -0.02871404, -0.03787244, -0.02772343, -0.02882409,  0.03024393,
        -0.02765644, -0.029812  , -0.0271059 ,  0.02843575,  0.03101462,
         0.02535008, -0.03708042,  0.04406978,  0.040319  ,  0.0451304 ,
         0.02950662,  0.03165921,  0.04112054,  0.03019385, -0.02778466,
         0.11034719,  0.03282501,  0.03037155,  0.03592965,  0.03971581,
         0.0288539 ,  0.02697116,  0.0491305 ,  0.02963246,  0.07845336,
         0.03864157,  0.02749168, -0.03386332, -0.00222573, -0.03376615,
        -0.03096702,  0.02827002, -0.05779396,  0.04406183, -0.04194924,
         0.03320975,  0.02897036,  0.03110663,  0.03411838,  0.03304916,
         0.03337414,  0.03881836,  0.00129107, -0.00019626, -0.03277731,
        -0.03604343, -0.03396694, -0.03607912, -0.02814106,  0.04244313,
        -0.04944906, -0.04308045, -0.03753309, -0.05325661, -0.04840223,
        -0.0521132 , -0.03579622, -0.03406986, -0.02767954,  0.04512814,
         0.09807602, -0.03512692,  0.02223172,  0.03252862, -0.04366031,
        -0.06425752]))


Notice that we purposefully did not include the code for the baseline community detection methods, 
but some wrappers that can be used  to reproduce the comparison. The source-code for the baselines 
can be found in the following links:

FacetNet: https://ame2.asu.edu/students/lin/code/snmf_evol.zip
GenLovain: http://netwiki.amath.unc.edu/GenLouvain/GenLouvain 

For more details, see the paper:  
[Spectral Algorithms for Temporal Graph Cuts ](http://www.cs.ucsb.edu/~arlei/pubs/www18.pdf "")  
Arlei Silva, Ambuj K Singh, Ananthram Swami  
The Web Conference (WWW), 2018. 

Arlei Silva (arlei@cs.ucsb.edu)
